[Unit]
Description=Docker Compose for monitoring
# Assumes Docker service is running before this service starts
After=docker.service
Requires=docker.service

[Service]
Type=oneshot
# RemainAfterExit=yes is crucial for 'oneshot' type services that start background processes
RemainAfterExit=yes
WorkingDirectory=/root
# Use absolute paths for docker and docker compose commands
ExecStart=/usr/bin/docker compose up -d --remove-orphans
ExecStop=/usr/bin/docker compose down
# Optional: Restart the service if the main process fails
Restart=always

[Install]
WantedBy=multi-user.target
